---
title: mit6.824-GFS-FAQ(翻译)
comments: true
typora-root-url: ../../source/
date: 2020-04-16 20:38:19
tags:
- 6.824
- GFS
---

# GFS常见问题

## 1. 为什么原子性的记录只保证最少一次，而不是精确的一次？

> ```
> Q: Why is atomic record append at-least-once, rather than exactly once?
> ```

3.1节（第7步）说，如果在其中一个写入失败二次，客户端重试写入。 那会导致数据要在不失败的副本中多次添加。 不同的设计可能会检测到重复的客户请求，尽管任意故障（例如，原始故障之间的主要故障请求和客户的重试）。 您将在实验3中实现这样的设计，在复杂性和性能上付出相当大的代价。

> ```
> Section 3.1, Step 7, says that if a write fails at one of the secondaries, the client re-tries the write. That will cause the data to be appended more than once at the non-failed replicas. A different design could probably detect duplicate client requests despite arbitrary failures (e.g. a primary failure between the original request and the client's retry). You'll implement such a design in Lab 3, at considerable expense in complexity and performance.
> ```

## 2. 应用程序如何知道块的哪些部分是padding，哪些是重复的记录

> ```
> Q: How does an application know what sections of a chunk consist of
> padding and duplicate records?
> ```

为了检测填充，应用程序可以输入可预测的幻数在有效记录的开头，或包含可能会出现的校验和仅当记录有效时才有效。 该应用程序可以检测通过在记录中包含唯一ID进行重复。 然后，如果它读取一个与先前的记录具有相同ID的记录，它知道它们彼此重复。 GFS为应用程序提供了一个库处理这些情况。

> ```
> To detect padding, applications can put a predictable magic number at the start of a valid record, or include a checksum that will likely only be valid if the record is valid. The application can detect duplicates by including unique IDs in records. Then, if it reads a
> record that has the same ID as an earlier record, it knows that they are duplicates of each other. GFS provides a library for applications that handles these cases.
> ```